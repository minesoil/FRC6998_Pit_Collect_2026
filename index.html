<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FRC 6998 Unipards – REBUILT 2026 Pit Collect</title>

<!-- QR Library -->
<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>

<style>
/* COLORS */
:root {
  --navy: #0B1C2D;
  --gold: #F5B700;
  --teal: #1FBFB8;
  --light-bg: #F4F7FA;
  --card-bg: #ea572e;
}

/* GLOBAL */
* { box-sizing: border-box; }
body {
  margin: 0;
  background: var(--light-bg);
  font-family: "Inter", sans-serif;
  color: var(--navy);
}
header {
  background: linear-gradient(135deg, var(--navy), #0F2341);
  color: white;
  text-align: center;
  padding: 22px;
}
header h1 { margin: 0; font-size: 1.7rem; }
header p { margin: 4px 0 0; font-size: 0.9rem; opacity: 0.85; }
.container {
  padding: 18px;
  max-width: 920px;
  margin: auto;
}

/* CARDS */
.card {
  background: var(--card-bg);
  border-radius: 12px;
  padding: 16px 20px;
  margin-bottom: 20px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.08);
  animation: fadeUp 0.4s ease-out;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}
.card:hover { transform: translateY(-3px); box-shadow: 0 12px 24px rgba(0,0,0,0.15); }
.card h2 {
  margin: 0 0 10px;
  font-size: 1.25rem;
  border-left: 4px solid var(--gold);
  padding-left: 8px;
}

/* FIELDS */
label { margin-top: 12px; display: block; font-size: 14px; }
input, select, textarea {
  width: 100%; margin-top: 6px;
  padding: 10px 12px;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-size: 14px;
  transition: border 0.25s ease, box-shadow 0.25s ease;
}
input:focus, select:focus, textarea:focus {
  border-color: var(--teal);
  box-shadow: 0 0 0 2px rgba(31,191,184,0.25);
}
textarea { resize: vertical; }

/* BUTTONS */
button {
  width: 100%;
  padding: 14px;
  background: linear-gradient(135deg, var(--teal), var(--gold));
  border: none;
  color: var(--navy);
  font-weight: 700;
  border-radius: 12px;
  cursor: pointer;
  font-size: 15px;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 22px rgba(31,191,184,0.35);
}

/* CANVAS */
#autoCanvas {
  border: 2px dashed var(--teal);
  border-radius: 8px;
  cursor: crosshair;
}

/* QR */
#qrcode { margin-top: 18px; text-align: center; }

/* TRANSITIONS */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>
</head>

<body>

<header>
  <h1>FRC 6998 Unipards — REBUILT 2026 Pit Collect</h1>
  <p>Mechanics, Auto Strategy, and Field Traversal</p>
</header>

<div class="container">

<!-- ROBOT IDENTITY -->
<div class="card">
  <h2>Robot Identity</h2>
  <label>Team Number</label>
  <input id="team" type="number">

  <label>Robot Name</label>
  <input id="robotName">
</div>

<!-- MECHANICAL DETAILS -->
<div class="card">
  <h2>Mechanical Systems</h2>
  <label>Intake Mechanism</label>
  <select id="intake">
    <option value="roller">Roller</option>
    <option value="pneumatic">Pneumatic</option>
    <option value="underbelly">Underbelly</option>
    <option value="other">Other</option>
  </select>
  <input id="intakeOther" placeholder="Specify intake" hidden>
  
  <label>Scoring Method</label>
  <select id="scoringMethod">
    <option value="direct shoot">Direct Shoot</option>
    <option value="indexed flywheel">Indexed Flywheel</option>
    <option value="pass-through">Pass‑Through Storage</option>
    <option value="other">Other</option>
  </select>
  <input id="scoringOther" placeholder="Specify scoring method" hidden>

  <label>Hopper / Storage Capacity (Approx)</label>
  <input id="hopperCapacity" type="number" placeholder="e.g., 10">
</div>

<!-- FIELD TRAVERSAL -->
<div class="card">
  <h2>Field Traversal</h2>
  <label>Can Cross Bump</label>
  <select id="bump">
    <option value="yes">Yes</option>
    <option value="no">No</option>
  </select>

  <label>Can Traverse Trench</label>
  <select id="trench">
    <option value="yes">Yes</option>
    <option value="no">No</option>
  </select>
</div>

<!-- AUTONOMOUS -->
<div class="card">
  <h2>Autonomous Capabilities</h2>
  <label>Auto Start Position</label>
  <select id="autoStart">
    <option value="left">Left</option>
    <option value="center">Center</option>
    <option value="right">Right</option>
  </select>

  <label>Fuel Preloaded (Max 8)</label>
  <input id="preloadFuel" type="number" min="0" max="8">

  <label>Estimated Auto Scored</label>
  <input id="autoScore" type="number" placeholder="e.g., 12">

  <label>Auto Strategy Type</label>
  <select id="autoType">
    <option value="timed">Timed</option>
    <option value="sensor">Sensor‑based</option>
    <option value="vision">Vision (e.g., Limelight)</option>
    <option value="other">Other</option>
  </select>
  <input id="autoTypeOther" placeholder="Specify auto strategy" hidden>

  <label>Sensors Used</label>
  <select id="sensors">
    <option value="limelight">Limelight</option>
    <option value="gyro">Gyro (IMU)</option>
    <option value="encoders">Encoders</option>
    <option value="lidar">LiDAR</option>
    <option value="none">None</option>
    <option value="other">Other</option>
  </select>
  <input id="sensorsOther" placeholder="Specify sensor" hidden>

  <label>Draw Auto Path</label>
  <canvas id="autoCanvas" width="350" height="220"></canvas>
  <div class="hint">Draw intended auton movement (touch or mouse)</div>
</div>

<!-- NOTES -->
<div class="card">
  <h2>Strategic Notes</h2>
  <textarea id="notes" rows="4" placeholder="Strengths, weaknesses, reliability…"></textarea>
</div>

<!-- PHOTO -->
<div class="card">
  <h2>Robot Photo</h2>
  <input id="photo" type="file" accept="image/*" capture="environment">
  <img id="photoPreview" style="width:100%; margin-top:10px; border-radius:10px;">
</div>

<!-- GENERATE -->
<div class="card">
  <button onclick="generateQR()">Generate QR Payload</button>
  <div id="qrcode"></div>
</div>

</div>

<script>
// Show “Other” inputs
function toggleOther(selId, otherId) {
  const sel = document.getElementById(selId);
  const other = document.getElementById(otherId);
  sel.addEventListener("change", () => {
    other.hidden = sel.value !== "other";
    if (other.hidden) other.value = "";
  });
}
toggleOther("intake","intakeOther");
toggleOther("scoringMethod","scoringOther");
toggleOther("autoType","autoTypeOther");
toggleOther("sensors","sensorsOther");

// Canvas drawing
const canvas = document.getElementById("autoCanvas");
const ctx = canvas.getContext("2d");
ctx.strokeStyle = "#1FBFB8"; 
ctx.lineWidth = 2;
let drawing = false;

function getMousePos(e) {
  const rect = canvas.getBoundingClientRect();
  return { x: e.clientX - rect.left, y: e.clientY - rect.top };
}

canvas.addEventListener("mousedown", e => {
  drawing = true;
  const pos = getMousePos(e);
  ctx.beginPath();
  ctx.moveTo(pos.x, pos.y);
});

canvas.addEventListener("mousemove", e => {
  if (!drawing) return;
  const pos = getMousePos(e);
  ctx.lineTo(pos.x, pos.y);
  ctx.stroke();
});

canvas.addEventListener("mouseup", () => drawing = false);
canvas.addEventListener("mouseleave", () => drawing = false);

// Photo preview
document.getElementById("photo").addEventListener("change", () => {
  const file = document.getElementById("photo").files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = () => document.getElementById("photoPreview").src = reader.result;
  reader.readAsDataURL(file);
});

// Generate QR
function generateQR() {
  const teamNum = document.getElementById("team").value;
  if (!teamNum) return alert("Please enter Team Number!");

  const autoPath = canvas.toDataURL();
  const data = {
    team: teamNum,
    robotName: document.getElementById("robotName").value || "",
    intake: document.getElementById("intakeOther").value || document.getElementById("intake").value,
    scoring: document.getElementById("scoringOther").value || document.getElementById("scoringMethod").value,
    hopperCapacity: document.getElementById("hopperCapacity").value || 0,
    bump: document.getElementById("bump").value || "no",
    trench: document.getElementById("trench").value || "no",
    auto: {
      start: document.getElementById("autoStart").value || "",
      preload: document.getElementById("preloadFuel").value || 0,
      score: document.getElementById("autoScore").value || 0,
      strategy: document.getElementById("autoTypeOther").value || document.getElementById("autoType").value || "",
      sensors: document.getElementById("sensorsOther").value || document.getElementById("sensors").value || "",
      path: autoPath
    },
    notes: document.getElementById("notes").value || "",
    timestamp: Date.now()
  };

  document.getElementById("qrcode").innerHTML = "";
  new QRCode(document.getElementById("qrcode"), {
    text: JSON.stringify(data),
    width: 240,
    height: 240
  });
}
</script>

</body>
</html>
