<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FRC 6998 – REBUILT 2026 Pit Collect (Offline)</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg1:#0F0F12;
  --bg2:#1A1A1F;
  --txt:#F2F2F2;
  --gold:#D4AF37;
}
*{box-sizing:border-box;margin:0;padding:0;font-family:'Lexend',sans-serif;}
body{background:var(--bg1);color:var(--txt);}
header{text-align:center;padding:22px;border-bottom:3px solid var(--gold);}
.container{max-width:900px;margin:20px auto;padding:14px;}
.card{background:linear-gradient(145deg,var(--bg1),var(--bg2));border-radius:18px;padding:18px;margin-bottom:16px;}
.card h2{border-left:6px solid var(--gold);padding-left:12px;margin-bottom:10px;}
label{display:block;margin-top:10px;font-weight:600;}
input,textarea,select{width:100%;padding:9px;margin-top:6px;background:#121218;color:var(--txt);border-radius:12px;border:1px solid rgba(255,255,255,.15);}
.checkbox-inline{display:flex;flex-wrap:wrap;gap:12px;margin-top:6px;}
.checkbox-inline label{display:flex;align-items:center;gap:6px;font-weight:normal;}
.main-btn{flex:1;padding:12px;font-weight:bold;border-radius:14px;background:linear-gradient(135deg,#D4AF37,#FFD966);border:none;cursor:pointer;}
.nav-buttons{display:flex;gap:10px;margin-top:12px;}
.page{display:none;}
.page.active{display:block;}
#qrcode{width:128px;height:128px;margin:0 auto;background:white;border-radius:10px;}
#savedEntries{margin-top:12px;max-height:150px;overflow-y:auto;border:1px solid var(--gold);padding:6px;border-radius:8px;background:#121218;}
.warning{color:#FF4C4C;font-size:0.85rem;margin-top:4px;}
</style>
</head>
<body>

<header>
  <h1>FRC 6998 – REBUILT 2026</h1>
  <p>Pit Scouting (Offline)</p>
</header>

<div class="container">

<!-- PAGE 1: Scouter Info -->
<div class="page active">
  <div class="card">
    <h2>Scouter Info</h2>
    <label>Scouter Name</label>
    <input id="scouter">
    <div id="scouterWarning" class="warning"></div>

    <label>Team Number</label>
    <input id="team" type="number">
    <div id="teamWarning" class="warning"></div>
    <p id="teamInfo"></p>
  </div>
  <div class="nav-buttons">
    <button class="main-btn" onclick="toggleFS()">⛶ Fullscreen</button>
    <button class="main-btn" onclick="nextPage()">Next</button>
  </div>
</div>

<!-- PAGE 2: Robot Info -->
<div class="page">
  <div class="card">
    <h2>Robot Info</h2>
    <label>Drive Type</label>
    <select id="drive">
      <option value="">Select Drive</option>
      <option>Swerve</option>
      <option>Tank</option>
      <option>Mecanum</option>
    </select>
    <div id="driveWarning" class="warning"></div>

    <label>Robot Weight (lbs)</label>
    <input id="weight" type="number" min="0">

    <label>Maximum Capacity</label>
    <input id="capacity" type="number" min="0">

    <label>Intake</label>
    <select id="intake">
      <option value="">Select Intake</option>
      <option>Roller</option>
      <option>Pneumatic</option>
      <option>Both</option>
    </select>
    <div id="intakeWarning" class="warning"></div>

    <label>Vision</label>
    <select id="vision" multiple>
      <option>Limelight</option>
      <option>AprilTag</option>
      <option>Both</option>
    </select>

    <label>Outpost Source</label>
    <select id="source" multiple>
      <option>Outpost</option>
      <option>Depot</option>
      <option>Both</option>
    </select>

    <label>Terrain</label>
    <select id="terrain" multiple>
      <option>Bump</option>
      <option>Trench</option>
      <option>Both</option>
    </select>

    <label>Shooting Ability</label>
    <select id="shooting" multiple>
      <option>Shoot while intaking</option>
      <option>Shoot while moving</option>
    </select>
  </div>
  <div class="nav-buttons">
    <button class="main-btn" onclick="prevPage()">Prev</button>
    <button class="main-btn" onclick="nextPage()">Next</button>
  </div>
</div>

<!-- PAGE 3: Autonomous -->
<div class="page">
  <div class="card">
    <h2>Autonomous Info</h2>
    <label>Preload</label>
    <input id="autoPreload" type="number" min="0" max="8">
    <div id="autoPreloadWarning" class="warning"></div>

    <label>Source</label>
    <select id="autoSource" multiple>
      <option>Outpost</option>
      <option>Depot</option>
      <option>Both</option>
    </select>

    <label>Total Auto Balls</label>
    <input id="autoBalls" type="number" min="0">

    <label>Hanging / Climb Attempt</label>
    <input type="checkbox" id="autoHang">

    <label>Cross Midfield</label>
    <input type="checkbox" id="autoMidfield">
  </div>
  <div class="nav-buttons">
    <button class="main-btn" onclick="prevPage()">Prev</button>
    <button class="main-btn" onclick="nextPage()">Next</button>
  </div>
</div>

<!-- PAGE 4: Teleop -->
<div class="page">
  <div class="card">
    <h2>Teleop Info</h2>
    <label>Climb Level</label>
    <select id="teleClimbLevel">
      <option>L1</option>
      <option>L2</option>
      <option>L3</option>
    </select>

    <label>Climb Position</label>
    <select id="teleClimbPos">
      <option>Left</option>
      <option>Center</option>
      <option>Right</option>
      <option>Both</option>
    </select>

    <label>Climb Time (seconds)</label>
    <input id="teleClimbTime" type="number" min="0">

    <label>Other Notes</label>
    <textarea id="teleNotes"></textarea>
    <div id="teleNotesWarning" class="warning"></div>
  </div>
  <div class="nav-buttons">
    <button class="main-btn" onclick="prevPage()">Prev</button>
    <button class="main-btn" onclick="saveAndGenerateQR()">Save & QR</button>
    <button class="main-btn" onclick="resetAll()">Reset All</button>
  </div>
</div>

<div id="qrcode"></div>

<script>
// Pages
let page=0;
const pages=document.querySelectorAll(".page");
const show=i=>{pages.forEach(p=>p.classList.remove("active"));pages[i].classList.add("active");}
const nextPage=()=>{
  if(validatePage(page)) show(++page);
}
const prevPage=()=>show(--page);

// Fullscreen
function toggleFS(){document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen();}

// Predefined teams
const teams = {
  364:"Team Fusion 364 - Gulfport, Mississippi, USA",
  456:"Siege Robotics - Vicksburg, Mississippi, USA",
  538:"Renaissance Robotics - Athens, Alabama, USA",
  590:"Chahta Warriors - Choctaw, Mississippi, USA",
  1421:"Team CHAOS - Picayune, Mississippi, USA",
  1912:"Team Combustion - Slidell, Louisiana, USA",
  1927:"Tempest - Biloxi, Mississippi, USA",
  2221:"FHS Robodawgs - Mandeville, Louisiana, USA",
  2556:"RadioActive Roaches - Niceville, Florida, USA",
  2992:"The S.S. Prometheus - Mandeville, Louisiana, USA",
  3039:"Wildcat Robotics - Destrehan, Louisiana, USA",
  3606:"BearMetal - Baton Rouge, Louisiana, USA",
  3616:"Team Phenomena - Lafayette, Louisiana, USA",
  3753:"BulahBots! - Baton Rouge, Louisiana, USA",
  4087:"Voodoo Voltage - New Orleans, Louisiana, USA",
  4107:"Team Storm - Long Beach, Mississippi, USA",
  4336:"Ramageddon Robotics - Lafayette, Louisiana, USA",
  4400:"Cerbotics - Peñoles TORREON, Coahuila, Mexico",
  5045:"SpartaBot - Memphis, Tennessee, USA",
  5863:"Hypercubed - Brusly, Louisiana, USA",
  5971:"Raider Robotics Team - Metairie, Louisiana, USA",
  6184:"C4 (Capital City Chaotic Coders) - Tallahassee, Florida, USA",
  6706:"Golem - Shenzhen, Guangdong, China",
  6998:"Unipards - Tainan, Tainan Municipality, Chinese Taipei",
  7094:"Alpha Omega - Bay Saint Louis, Mississippi, USA",
  7474:"JXN UNITED - Ridgeland, Mississippi, USA",
  8044:"Denham Venom - Denham Springs, Louisiana, USA",
  8624:"Sasquatch Robotics - Andalusia, Alabama, USA",
  8808:"SWLA Tech Pirates - Lake Charles, Louisiana, USA",
  9153:"Bearcat Robotics - Ruston, Louisiana, USA",
  9309:"Metal Mages - New Orleans, Louisiana, USA",
  9405:"KNOS Robotics - New Orleans, Louisiana, USA",
  9503:"EF5 CHAOS - Laurel, Mississippi, USA",
  9717:"Poultronix - Forest, Mississippi, USA",
  9734:"Jasper County Robotics - Bay Springs, Mississippi, USA",
  10101:"Critical Hit - Huntsville, Alabama, USA",
  10217:"Catahoula Blue Dogs - Port Allen, Louisiana, USA",
  10309:"Jayhawks Robotics - Columbus, Mississippi, USA",
  10661:"Blue Phoenix - Shawnee, Oklahoma, USA",
  10929:"Tarpon Robotics - Cut Off, Louisiana, USA",
  10943:"WJH RoboStangs - Laurel, Mississippi, USA",
  10961:"Hyper Wave - Gulf Shores, Alabama, USA",
  11107:"FARMBots - Farmerville, Louisiana, USA",
  11265:"Rockbotics -FRC - Bay Saint Louis, Mississippi, USA",
  11287:"Canton Career Center - Canton, Mississippi, USA",
  11343:"JPS High School Robotics - Jackson, Mississippi, USA",
  11345:"Long Beach RoboBearcats - Long Beach, Mississippi, USA"
};

// Profanity filter simple version
const profanity = ["badword1","badword2","slur1"]; // add more
function containsProfanity(text){
  text = text.toLowerCase();
  return profanity.some(word => text.includes(word));
}

// Validation
function validatePage(p){
  let valid=true;
  if(p===0){ // Scouter
    const scouter=document.getElementById("scouter").value.trim();
    const team=document.getElementById("team").value.trim();
    const scouterWarn=document.getElementById("scouterWarning");
    const teamWarn=document.getElementById("teamWarning");
    scouterWarn.textContent="";
    teamWarn.textContent="";
    if(scouter.length===0 || containsProfanity(scouter)){
      scouterWarn.textContent="Invalid scouter name (empty or contains profanity)";
      valid=false;
    }
    if(!teams[team]){
      teamWarn.textContent="Invalid team number";
      valid=false;
      document.getElementById("teamInfo").textContent="";
    } else {
      document.getElementById("teamInfo").textContent=teams[team];
    }
  }
  if(p===2){ // Auto preload
    const preload=parseInt(document.getElementById("autoPreload").value||0);
    const capacity=parseInt(document.getElementById("capacity").value||0);
    const warn=document.getElementById("autoPreloadWarning");
    warn.textContent="";
    if(preload>capacity){
      warn.textContent="Preload cannot exceed robot capacity";
      valid=false;
    }
  }
  if(p===3){ // Teleop notes
    const notes=document.getElementById("teleNotes").value.trim();
    const warn=document.getElementById("teleNotesWarning");
    warn.textContent="";
    if(containsProfanity(notes)){
      warn.textContent="Notes contain profanity or racial slurs";
      valid=false;
    }
  }
  return valid;
}

// Save & QR
function saveAndGenerateQR(){
  if(!validatePage(0) || !validatePage(2) || !validatePage(3)) return alert("Fix warnings first!");
  const data={
    scouter: document.getElementById("scouter").value.trim(),
    team: document.getElementById("team").value.trim(),
    drive: document.getElementById("drive").value,
    weight: document.getElementById("weight").value,
    capacity: document.getElementById("capacity").value,
    intake: document.getElementById("intake").value,
    vision: Array.from(document.getElementById("vision").selectedOptions).map(o=>o.value),
    source: Array.from(document.getElementById("source").selectedOptions).map(o=>o.value),
    terrain: Array.from(document.getElementById("terrain").selectedOptions).map(o=>o.value),
    shooting: Array.from(document.getElementById("shooting").selectedOptions).map(o=>o.value),
    autoPreload: document.getElementById("autoPreload").value,
    autoSource: Array.from(document.getElementById("autoSource").selectedOptions).map(o=>o.value),
    autoBalls: document.getElementById("autoBalls").value,
    autoHang: document.getElementById("autoHang").checked,
    autoMidfield: document.getElementById("autoMidfield").checked,
    teleClimbLevel: document.getElementById("teleClimbLevel").value,
    teleClimbPos: document.getElementById("teleClimbPos").value,
    teleClimbTime: document.getElementById("teleClimbTime").value,
    teleNotes: document.getElementById("teleNotes").value
  };
  document.getElementById("qrcode").innerHTML="";
  new QRCode(document.getElementById("qrcode"),{
    text: JSON.stringify(data),
    width:128,
    height:128
  });
}

// Reset
function resetAll(){
  document.querySelectorAll("input,textarea,select").forEach(i=>i.value=i.type==="checkbox"?false:"");
  document.getElementById("teamInfo").textContent="";
  document.querySelectorAll(".warning").forEach(w=>w.textContent="");
  document.getElementById("qrcode").innerHTML="";
}

</script>

</body>
</html>
