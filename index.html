<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FRC 6998 – REBUILT 2026 Pit Scouting (Offline)</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg1: #0F0F12;
  --bg2: #1A1A1F;
  --txt: #F2F2F2;
  --gold: #D4AF37;
  --warn: #FF4C4C;
  --card-bg: linear-gradient(145deg,#0F0F12,#1A1A1F);
  --btn-bg: linear-gradient(135deg,#D4AF37,#FFD966);
}
* { box-sizing:border-box; margin:0; padding:0; font-family:'Lexend',sans-serif; }
body { background: var(--bg1); color: var(--txt); }
header { text-align:center; padding:22px; border-bottom:3px solid var(--gold); }
.container { max-width:900px; margin:20px auto; padding:14px; }
.card { background: var(--card-bg); border-radius:18px; padding:18px; margin-bottom:16px; box-shadow: 0 4px 10px rgba(0,0,0,0.5);}
.card h2 { border-left:6px solid var(--gold); padding-left:12px; margin-bottom:10px; }
label { display:block; margin-top:10px; font-weight:600; }
input,textarea,select { width:100%; padding:10px; margin-top:6px; background:#121218; color:var(--txt); border-radius:12px; border:1px solid rgba(255,255,255,.15); }
.checkbox-inline { display:flex; flex-wrap:wrap; gap:12px; margin-top:6px; }
.checkbox-inline label { display:flex; align-items:center; gap:6px; font-weight:normal; cursor:pointer; }
.checkbox-inline input[type="checkbox"] { accent-color: var(--gold); }
.main-btn { flex:1; padding:12px; font-weight:bold; border-radius:14px; background:var(--btn-bg); border:none; cursor:pointer; transition: all 0.2s ease; }
.main-btn:hover { opacity:0.85; }
.nav-buttons { display:flex; gap:10px; margin-top:12px; }
.page { display:none; transition: opacity 0.3s ease; }
.page.active { display:block; opacity:1; }
.warning { color: var(--warn); font-size:0.9rem; margin-top:4px; }
#qrcode { width:180px; height:180px; margin:0 auto; background:white; border-radius:10px; display:none; }
#promptModal { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); color:#F2F2F2; display:flex; align-items:center; justify-content:center; z-index:1000; }
#promptContent { background:linear-gradient(145deg,#1A1A1F,#0F0F12); padding:20px; border-radius:14px; max-width:600px; max-height:80%; overflow-y:auto; }
#promptContent h2 { border-left:4px solid var(--gold); padding-left:10px; margin-bottom:10px; }
#promptContent p, #promptContent ul { margin-bottom:10px; font-size:0.95rem; }
#promptClose { margin-top:10px; padding:10px 16px; background:var(--btn-bg); border:none; border-radius:10px; cursor:pointer; font-weight:bold; }
</style>
</head>
<body>

<!-- Prompt Modal -->
<div id="promptModal">
  <div id="promptContent">
    <h2>Instructions for Scouters</h2>
    <p>Welcome to REBUILT 2026 Pit Scouting! Please follow instructions carefully:</p>
    <ul>
      <li>Scouter Name: No profanity or racial slurs.</li>
      <li>Team Number: Must be one of 48 predefined teams.</li>
      <li>Drive Type: Only one selectable.</li>
      <li>Preload cannot exceed robot capacity.</li>
      <li>“Both” cancels other options for certain selections.</li>
      <li>Notes: No profanity.</li>
    </ul>
    <button id="promptClose">I Understand</button>
  </div>
</div>

<header>
  <h1>FRC 6998 – REBUILT 2026</h1>
  <p>Pit Scouting (Offline)</p>
</header>

<div class="container">

<!-- PAGE 1: Scouter Info -->
<div class="page active">
  <div class="card">
    <h2>Scouter Info</h2>
    <label>Scouter Name</label>
    <input id="scouter">
    <div id="scouterWarning" class="warning"></div>

    <label>Team Number</label>
    <input id="team" type="number">
    <div id="teamWarning" class="warning"></div>
    <p id="teamInfo"></p>
  </div>
  <div class="nav-buttons">
    <button class="main-btn" onclick="toggleFS()">⛶ Fullscreen</button>
    <button class="main-btn" onclick="nextPage()">Next</button>
  </div>
</div>

<!-- PAGE 2: Robot Info -->
<div class="page">
  <div class="card">
    <h2>Robot Info</h2>
    <label>Drive Type</label>
    <select id="drive">
      <option value="">Select Drive</option>
      <option>Swerve</option>
      <option>Tank</option>
      <option>Mecanum</option>
    </select>
    <div id="driveWarning" class="warning"></div>

    <label>Robot Weight</label>
    <input id="weight" type="number">

    <label>Maximum Capacity</label>
    <input id="maxCap" type="number">
    <div id="maxCapWarning" class="warning"></div>

    <label>Intake</label>
    <div class="checkbox-inline">
      <label><input type="checkbox" id="intakeRoller"> Roller</label>
      <label><input type="checkbox" id="intakePneumatic"> Pneumatic</label>
      <label><input type="checkbox" id="intakeBoth"> Both</label>
    </div>
    <div id="intakeWarning" class="warning"></div>

    <label>Vision</label>
    <div class="checkbox-inline">
      <label><input type="checkbox" id="visionLimelight"> Limelight</label>
      <label><input type="checkbox" id="visionApril"> AprilTag</label>
      <label><input type="checkbox" id="visionBoth"> Both</label>
    </div>

    <label>Outpost Source</label>
    <div class="checkbox-inline">
      <label><input type="checkbox" id="sourceOutpost"> Outpost</label>
      <label><input type="checkbox" id="sourceDepot"> Depot</label>
      <label><input type="checkbox" id="sourceBoth"> Both</label>
    </div>

    <label>Terrain</label>
    <div class="checkbox-inline">
      <label><input type="checkbox" id="terrainBump"> Bump</label>
      <label><input type="checkbox" id="terrainTrench"> Trench</label>
      <label><input type="checkbox" id="terrainBoth"> Both</label>
    </div>

    <label>Shooting Ability</label>
    <div class="checkbox-inline">
      <label><input type="checkbox" id="shootIntake"> Shoot while intaking</label>
      <label><input type="checkbox" id="shootMove"> Shoot while moving</label>
    </div>
  </div>
  <div class="nav-buttons">
    <button class="main-btn" onclick="prevPage()">Back</button>
    <button class="main-btn" onclick="nextPage()">Next</button>
  </div>
</div>

<!-- PAGE 3: Autonomous Info -->
<div class="page">
  <div class="card">
    <h2>Autonomous Info</h2>
    <label>Preload (0–8)</label>
    <input id="preload" type="number" min="0" max="8">
    <div id="preloadWarning" class="warning"></div>

    <label>Total Auto Balls</label>
    <input id="autoBalls" type="number">

    <label>Cross Midfield</label>
    <div class="checkbox-inline">
      <label><input type="checkbox" id="crossMid"> Yes</label>
    </div>
  </div>
  <div class="nav-buttons">
    <button class="main-btn" onclick="prevPage()">Back</button>
    <button class="main-btn" onclick="nextPage()">Next</button>
  </div>
</div>

<!-- PAGE 4: Teleop Info -->
<div class="page">
  <div class="card">
    <h2>Teleop Info</h2>
    <label>Climb Level</label>
    <select id="climbLevel">
      <option value="">Select Level</option>
      <option>L1</option>
      <option>L2</option>
      <option>L3</option>
    </select>

    <label>Climb Time (s)</label>
    <input id="climbTime" type="number">

    <label>Other Notes</label>
    <textarea id="notes"></textarea>
    <div id="notesWarning" class="warning"></div>
  </div>
  <div class="nav-buttons">
    <button class="main-btn" onclick="prevPage()">Back</button>
    <button class="main-btn" onclick="nextPage()">Next</button>
  </div>
</div>

<!-- PAGE 5: QR Code -->
<div class="page">
  <div class="card">
    <h2>Save & QR</h2>
    <div id="qrcode"></div>
    <button class="main-btn" onclick="generateQR()">Generate QR</button>
    <button class="main-btn" onclick="resetAll()">Reset All</button>
  </div>
  <div class="nav-buttons">
    <button class="main-btn" onclick="prevPage()">Back</button>
  </div>
</div>

</div>

<script>
// Teams
const teams = {
  364:"Team Fusion",456:"Siege Robotics",538:"Renaissance Robotics",590:"Chahta Warriors",
  1421:"Team CHAOS",1912:"Team Combustion",1927:"Tempest",2221:"FHS Robodawgs",
  2556:"RadioActive Roaches",2992:"The S.S. Prometheus",3039:"Wildcat Robotics",
  3606:"BearMetal",3616:"Team Phenomena",3753:"BulahBots!",4087:"Voodoo Voltage",
  4107:"Team Storm",4336:"Ramageddon Robotics",4400:"Cerbotics - Peñoles",5045:"SpartaBot",
  5863:"Hypercubed",5971:"Raider Robotics Team",6184:"C4 (Capital City Chaotic Coders)",
  6706:"Golem",6998:"Unipards",7094:"Alpha Omega",7474:"JXN UNITED",8044:"Denham Venom",
  8624:"Sasquatch Robotics",8808:"SWLA Tech Pirates",9153:"Bearcat Robotics",9309:"Metal Mages",
  9405:"KNOS Robotics",9503:"EF5 CHAOS",9717:"Poultronix",9734:"Jasper County Robotics",
  10101:"Critical Hit",10217:"Catahoula Blue Dogs",10309:"Jayhawks Robotics",10661:"Blue Phoenix",
  10929:"Tarpon Robotics",10943:"WJH RoboStangs",10961:"Hyper Wave",11107:"FARMBots",
  11265:"Rockbotics -FRC",11287:"Canton Career Center",11343:"JPS High School Robotics",
  11345:"Long Beach RoboBearcats"
};

// Navigation
let page=0;
const pages=document.querySelectorAll(".page");
const show=i=>{pages.forEach(p=>p.classList.remove("active")); pages[i].classList.add("active");};
function nextPage(){ if(validatePage(page)){ show(++page);} else {alert("Please fix errors before continuing.");}}
const prevPage=()=>show(--page);
function toggleFS(){document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen();}

// Prompt
document.getElementById("promptClose").addEventListener("click",()=>document.getElementById("promptModal").style.display="none");

// Validation
function containsProfanity(str){
  const badWords=["badword1","badword2"];
  str=str.toLowerCase();
  return badWords.some(w=>str.includes(w));
}

function validatePage(p){
  let valid=true;

  // PAGE 1
  if(p===0){
    const scouter=document.getElementById("scouter").value.trim();
    const team=document.getElementById("team").value;
    if(scouter==="" || containsProfanity(scouter)){
      document.getElementById("scouterWarning").innerText="Invalid name.";
      valid=false;
    }else document.getElementById("scouterWarning").innerText="";

    if(!teams[team]){
      document.getElementById("teamWarning").innerText="Team not in predefined list.";
      document.getElementById("teamInfo").innerText="";
      valid=false;
    } else {
      document.getElementById("teamWarning").innerText="";
      document.getElementById("teamInfo").innerText=`Team: ${teams[team]}`;
    }
  } 
  // PAGE 2
  else if(p===1){
    const drive=document.getElementById("drive").value;
    if(drive===""){document.getElementById("driveWarning").innerText="Select a drive type."; valid=false;}
    else document.getElementById("driveWarning").innerText="";

    const maxCap=Number(document.getElementById("maxCap").value);
    if(isNaN(maxCap) || maxCap<=0){document.getElementById("maxCapWarning").innerText="Enter max capacity."; valid=false;}
    else document.getElementById("maxCapWarning").innerText="";
  }
  // PAGE 3
  else if(p===2){
    const preload=Number(document.getElementById("preload").value);
    const maxCap=Number(document.getElementById("maxCap").value);
    if(preload>maxCap){document.getElementById("preloadWarning").innerText="Preload exceeds max capacity."; valid=false;}
    else document.getElementById("preloadWarning").innerText="";
  }
  // PAGE 4
  else if(p===3){
    const notes=document.getElementById("notes").value;
    if(containsProfanity(notes)){document.getElementById("notesWarning").innerText="Notes contain invalid words."; valid=false;}
    else document.getElementById("notesWarning").innerText="";
  }

  return valid;
}

// Real-time validation
["scouter","team","preload","maxCap","notes"].forEach(id=>{
  document.getElementById(id).addEventListener("input",()=>validatePage(page));
});

// Checkbox logic for Both
function setupBothLogic(mainIds, bothId){
  mainIds.forEach(id=>{
    const el=document.getElementById(id);
    el.addEventListener("change",()=>{
      if(el.checked) document.getElementById(bothId).checked=false;
    });
  });
  document.getElementById(bothId).addEventListener("change",()=>{
    if(document.getElementById(bothId).checked) mainIds.forEach(id=>document.getElementById(id).checked=false);
  });
}

// Apply checkbox logic
setupBothLogic(["intakeRoller","intakePneumatic"],"intakeBoth");
setupBothLogic(["visionLimelight","visionApril"],"visionBoth");
setupBothLogic(["sourceOutpost","sourceDepot"],"sourceBoth");
setupBothLogic(["terrainBump","terrainTrench"],"terrainBoth");

// QR
function generateQR(){
  const data={
    scouter:document.getElementById("scouter").value,
    team:document.getElementById("team").value,
    drive:document.getElementById("drive").value,
    weight:document.getElementById("weight").value,
    maxCap:document.getElementById("maxCap").value,
    intakeRoller:document.getElementById("intakeRoller").checked,
    intakePneumatic:document.getElementById("intakePneumatic").checked,
    intakeBoth:document.getElementById("intakeBoth").checked,
    visionLimelight:document.getElementById("visionLimelight").checked,
    visionApril:document.getElementById("visionApril").checked,
    visionBoth:document.getElementById("visionBoth").checked,
    sourceOutpost:document.getElementById("sourceOutpost").checked,
    sourceDepot:document.getElementById("sourceDepot").checked,
    sourceBoth:document.getElementById("sourceBoth").checked,
    terrainBump:document.getElementById("terrainBump").checked,
    terrainTrench:document.getElementById("terrainTrench").checked,
    terrainBoth:document.getElementById("terrainBoth").checked,
    shootIntake:document.getElementById("shootIntake").checked,
    shootMove:document.getElementById("shootMove").checked,
    preload:document.getElementById("preload").value,
    autoBalls:document.getElementById("autoBalls").value,
    crossMid:document.getElementById("crossMid").checked,
    climbLevel:document.getElementById("climbLevel").value,
    climbTime:document.getElementById("climbTime").value,
    notes:document.getElementById("notes").value
  };
  document.getElementById("qrcode").innerHTML="";
  document.getElementById("qrcode").style.display="block";
  new QRCode(document.getElementById("qrcode"), JSON.stringify(data));
}

// Reset
function resetAll(){
  document.querySelectorAll("input,textarea,select").forEach(el=>el.value="");
  document.querySelectorAll("input[type=checkbox]").forEach(cb=>cb.checked=false);
  document.getElementById("qrcode").innerHTML="";
  document.getElementById("qrcode").style.display="none";
  document.querySelectorAll(".warning").forEach(w=>w.innerText="");
  show(0);
}
</script>
</body>
</html>
